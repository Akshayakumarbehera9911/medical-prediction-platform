{% extends "base.html" %}

{% block title %}COVID-19 Assessment - MediPredict{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/covid.css') }}">
{% endblock %}

{% block content %}
<div class="form-page">
  <div class="form-container covid-form">
    <a href="/" class="back-btn">‚Üê Back to Home</a>
    
    <h1 class="form-title">ü¶† COVID-19 Assessment</h1>
    <p class="form-subtitle">Blood work analysis for COVID-19 detection</p>
    
    <div class="form-info">
      <p><strong>Instructions:</strong> Please enter your blood test results below. All values should be from a recent complete blood count (CBC) test.</p>
    </div>
    
    <form id="covid-form">
      <div class="form-group">
        <label for="age" class="form-label">Age:</label>
        <input type="number" id="age" name="age" class="form-input" min="1" max="120" step="1" required>
        <div class="input-hint">Enter your age in years</div>
      </div>

      <div class="form-section">
        <h3 class="section-title">White Blood Cell Parameters</h3>
        <div class="form-grid">
          <div class="form-group">
            <label for="leukocytes" class="form-label">Leukocytes (WBC):</label>
            <input type="number" id="leukocytes" name="leukocytes" class="form-input" min="0" max="50" step="0.1" required>
            <div class="input-hint">Normal: 4.0-11.0 (√ó10¬≥/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="neutrophilsP" class="form-label">Neutrophils %:</label>
            <input type="number" id="neutrophilsP" name="neutrophilsP" class="form-input" min="0" max="100" step="0.1" required>
            <div class="input-hint">Normal: 50-70%</div>
          </div>

          <div class="form-group">
            <label for="lymphocytesP" class="form-label">Lymphocytes %:</label>
            <input type="number" id="lymphocytesP" name="lymphocytesP" class="form-input" min="0" max="100" step="0.1" required>
            <div class="input-hint">Normal: 20-45%</div>
          </div>

          <div class="form-group">
            <label for="monocytesP" class="form-label">Monocytes %:</label>
            <input type="number" id="monocytesP" name="monocytesP" class="form-input" min="0" max="100" step="0.1" required>
            <div class="input-hint">Normal: 2-10%</div>
          </div>

          <div class="form-group">
            <label for="eosinophilsP" class="form-label">Eosinophils %:</label>
            <input type="number" id="eosinophilsP" name="eosinophilsP" class="form-input" min="0" max="100" step="0.1" required>
            <div class="input-hint">Normal: 1-4%</div>
          </div>

          <div class="form-group">
            <label for="basophilsP" class="form-label">Basophils %:</label>
            <input type="number" id="basophilsP" name="basophilsP" class="form-input" min="0" max="100" step="0.1" required>
            <div class="input-hint">Normal: 0.5-1%</div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3 class="section-title">White Blood Cell Absolute Counts</h3>
        <div class="form-grid">
          <div class="form-group">
            <label for="neutrophils" class="form-label">Neutrophils (Abs):</label>
            <input type="number" id="neutrophils" name="neutrophils" class="form-input" min="0" max="20" step="0.1" required>
            <div class="input-hint">Normal: 2.0-7.5 (√ó10¬≥/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="lymphocytes" class="form-label">Lymphocytes (Abs):</label>
            <input type="number" id="lymphocytes" name="lymphocytes" class="form-input" min="0" max="10" step="0.1" required>
            <div class="input-hint">Normal: 1.0-4.0 (√ó10¬≥/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="monocytes" class="form-label">Monocytes (Abs):</label>
            <input type="number" id="monocytes" name="monocytes" class="form-input" min="0" max="5" step="0.01" required>
            <div class="input-hint">Normal: 0.2-1.0 (√ó10¬≥/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="eosinophils" class="form-label">Eosinophils (Abs):</label>
            <input type="number" id="eosinophils" name="eosinophils" class="form-input" min="0" max="2" step="0.01" required>
            <div class="input-hint">Normal: 0.0-0.4 (√ó10¬≥/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="basophils" class="form-label">Basophils (Abs):</label>
            <input type="number" id="basophils" name="basophils" class="form-input" min="0" max="1" step="0.01" required>
            <div class="input-hint">Normal: 0.0-0.1 (√ó10¬≥/ŒºL)</div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3 class="section-title">Red Blood Cell Parameters</h3>
        <div class="form-grid">
          <div class="form-group">
            <label for="redbloodcells" class="form-label">Red Blood Cells:</label>
            <input type="number" id="redbloodcells" name="redbloodcells" class="form-input" min="0" max="10" step="0.1" required>
            <div class="input-hint">Normal: 4.2-5.4 (√ó10‚Å∂/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="hemoglobin" class="form-label">Hemoglobin:</label>
            <input type="number" id="hemoglobin" name="hemoglobin" class="form-input" min="0" max="25" step="0.1" required>
            <div class="input-hint">Normal: 12-16 g/dL</div>
          </div>

          <div class="form-group">
            <label for="hematocritP" class="form-label">Hematocrit %:</label>
            <input type="number" id="hematocritP" name="hematocritP" class="form-input" min="0" max="100" step="0.1" required>
            <div class="input-hint">Normal: 36-48%</div>
          </div>

          <div class="form-group">
            <label for="mcv" class="form-label">MCV:</label>
            <input type="number" id="mcv" name="mcv" class="form-input" min="0" max="150" step="0.1" required>
            <div class="input-hint">Normal: 80-100 fL</div>
          </div>

          <div class="form-group">
            <label for="mch" class="form-label">MCH:</label>
            <input type="number" id="mch" name="mch" class="form-input" min="0" max="50" step="0.1" required>
            <div class="input-hint">Normal: 27-33 pg</div>
          </div>

          <div class="form-group">
            <label for="mchc" class="form-label">MCHC:</label>
            <input type="number" id="mchc" name="mchc" class="form-input" min="0" max="50" step="0.1" required>
            <div class="input-hint">Normal: 32-36 g/dL</div>
          </div>

          <div class="form-group">
            <label for="rdwP" class="form-label">RDW %:</label>
            <input type="number" id="rdwP" name="rdwP" class="form-input" min="0" max="30" step="0.1" required>
            <div class="input-hint">Normal: 11.5-14.5%</div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3 class="section-title">Platelet Parameters</h3>
        <div class="form-grid">
          <div class="form-group">
            <label for="platelets" class="form-label">Platelets:</label>
            <input type="number" id="platelets" name="platelets" class="form-input" min="0" max="1000" step="1" required>
            <div class="input-hint">Normal: 150-450 (√ó10¬≥/ŒºL)</div>
          </div>

          <div class="form-group">
            <label for="mpv" class="form-label">MPV:</label>
            <input type="number" id="mpv" name="mpv" class="form-input" min="0" max="20" step="0.1" required>
            <div class="input-hint">Normal: 7.4-10.4 fL</div>
          </div>
        </div>
      </div>

      <button id="predict-btn" class="predict-btn" type="submit">
        üß™ Analyze Blood Results
      </button>
    </form>

    <div class="loading" id="loading" style="display:none;">
      <div class="spinner"></div>
      <p>Analyzing your blood work data...</p>
    </div>

    <div class="result-container" id="result-container" style="display:none;">
      <div class="result-text" id="result-text"></div>
      <div class="result-description" id="result-description"></div>
      <div class="additional-conditions" id="additional-conditions"></div>
    </div>

    <div class="form-disclaimer">
      <p><strong>‚ö†Ô∏è Medical Disclaimer:</strong> This assessment tool is for educational purposes only and should not replace professional medical advice. Blood work interpretation requires medical expertise. Please consult with healthcare professionals for accurate diagnosis and treatment.</p>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/covid.js') }}"></script>
{% endblock %}
